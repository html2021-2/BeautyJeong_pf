@charset "utf-8";
@import "_var", "_mixin";

//sub common
#wrap{background: url(../images/common/bg.svg) no-repeat 50% / cover;width: 100%;height: 100vh;}
#btn{
    position: fixed;width: 230px;height: 314px;bottom: 25px;left: 80px;z-index: 600;
    a{display: block; font-family: Rubik;font-weight: 600;font-size: 25px; color: #fff;text-align: center;width: 192px;height: 54px;background:  no-repeat 50% / cover;}
    a:hover, a:focus{color: $lYellow;}
    a + a{margin-top: 5px;}
    .prev{
        @include transform(rotate(3deg));
        background-image: url("../images/common/btn_prevpage.svg");width: 208px;
        p{padding-left: 10px;}
    }
    .current{background-image: url("../images/common/btn_currentpage.svg");color: $lYellow;}
    .next{
        p{@include transform(rotate(-3deg));}
        background-image: url("../images/common/btn_nextpage.svg");
    }
    .all_menu{background-image: url("../images/common/btn_allmenu.svg")}
}
.speech_bubble{
    @include flex;
    @include justify-content;
    @include align-items;
    position: relative;width: 1000px;height: 283px;margin: 70px auto; text-align: center;background: url("../images/common/speechBubble.png") no-repeat 50%;
    &::after{
        @include animation(move_down 1.5s infinite forwards);
        content: "";position: absolute;width: 66px;height: 37px;bottom: 9px;left: 48%; background: url("../images/common/ico_down.svg");
    }
}
.moveani{
    position: absolute;z-index: -5; width: 100%;height: 100vh;overflow: hidden;

    .cloud1, .cloud2, .cloud3{
      @include animation(move_cloud linear 60s infinite);
      position: absolute;top: 0;left: 0; width: 100%;height: 100%; background: no-repeat 50% / cover;
      &::before{content: "";position: absolute;}
    }
    .cloud3{@include animation(move_cloud_back linear 80s infinite);}
    .cloud1::before{top: 5%;left: 0;width: 374px;height: 106px;background-image: url("../images/common/cloud1.svg");}
    .cloud2{
      @include animation-duration(85s);
      &::before{top: 19%;width: 531px;height: 107px;background-image: url("../images/common/cloud2.svg");}
    }
    .cloud3::before{
      transform: scale(0.7);
      top: 32%;right: 0;width: 447px;height: 127px;opacity: 0.5;background-image: url("../images/common/cloud3.svg");
    }
}
.click{
  @include flex;
  @include justify-content;
  @include align-items;
  display: block; width: 130px;height: 48px;background: url("../images/common/btn_click.svg") no-repeat 50%;font-size: 25px;text-align: center;
  &:hover, &:focus{background-image: url("../images/common/btn_click_hover.svg");}
}

//keyframes
@include keyframes(move_cloud){
  0%{transform: translate(-470px);}
  100%{transform: translate(100%);}
}
@include keyframes(move_cloud_back){
  0%{transform: translate(300px);}
  100%{transform: translate(-100%);}
}

@include keyframes(move_down) {
    0%{transform: translateY(0);}
    100%{transform: translateY(15px);}
}
@include keyframes(move_water) {
    0%{transform: translateY(0);opacity: 1;}
    30%{transform: translateY(3px);opacity: 0.5;}
    100%{transform: translateY(5px);opacity: 0;}
}
@include keyframes(swing) {
    0%{transform: rotate(5deg);}
    100%{transform: rotate(-5deg);}
}


//skill=====
.skill{position: relative; width: 100%;height: 1100vh;}
.sticky{
    @include sticky;
    height: 100vh;top: 0;overflow: hidden;
    background: url(../images/common/bg.svg) no-repeat 50% / cover;width: 100%;height: 100vh;
}
.tree_wrap{position: relative;height: 100%;}
.tree_wrap {
  //스티키 자식들 공통
  .intro, .seed, .sprout, .small_tree, .big_tree{position: absolute;top: 0;left: 0;width: 100%;height: 100%;opacity: 0;transition: opacity 0.5s;}
  .soil{        
    @include translateX-50;
    position: absolute;bottom: 140px;left: 50%; width: 272px;height: 59px;background: no-repeat 50% / cover;
  }
  .soil.grass{background-image: url("../images/skill/grass.svg");width: 772px;height: 166px;bottom: 60px;}
  .grow{
    @include translateX-50;
    position: absolute;background: no-repeat 50% / cover;
  }
  .water{
    position: absolute;width: 561px;height: 489px;top: 30%;
    .can{position: absolute;width: 298px;height: 262px;top: 0; background: url("../images/skill/wateringCan.svg");}
    .drop{position: absolute;width: 150px;height: 70%;}
    .drop1, .drop2{
      @include animation(move_water 2.5s infinite forwards);
      position: absolute;background: no-repeat 50%;width: 60px;height: 70px;
    }
    .drop1{
      background-image: url("../images/skill/waterdrop.svg");position: absolute; bottom: 33%;left: 50%;
      &::before, &::after{content: "";position: absolute;width: 60px;height: 70px;background: url("../images/skill/waterdrop.svg") no-repeat 50%;}
      &::before{
        @include transform(scale(0.8) rotate(10deg));bottom: -55px;left: -34px;
      }
      &::after{
        @include transform(scale(0.7) rotate(-27deg));bottom: -68px;right: -14px;
      }
    }
    .drop2{
      @include animation-delay(0.2s);
      background-image: url("../images/skill/waterdrop2.svg");
      @include transform(rotate(-30deg));
      position: absolute; bottom: 0;left: 51%;
      &::before{
        @include transform(rotate(-5deg));
        content: "";position: absolute;width: 60px;height: 70px;bottom: 8px;left: -40px;background: url("../images/skill/waterdrop3.svg") no-repeat 50%;
      }
    }
  }
  .water.right{
    left: 40%;
    .can{right: 0;}
    .drop{
      bottom: 117px;left: 22%;
    }
  }
  .water.left{
    left: 25%;
    .can{
      @include transform(rotateY(180deg));
      left: 0;
    }
    .drop{
      @include transform(rotate(-40deg));
      left: 38%;bottom: 80px;
    }

  }
  
  //seed
  .seed {
    .plant{
      position: absolute;width: 44px;height: 59px;background: url(../images/skill/seed.svg);z-index: 300;
      &.plant1{bottom: 300px;left: 50%;}
      &.plant2{bottom: 183px;left: 49%;}
      &.plant3{bottom: 163px;left: 51%;}
      &.plant1::before, &.plant1::after, &.plant2::before, &.plant2::after, &.plant3::before, &.plant3::after{content: "";position: absolute;width: 44px;height: 59px;background: url(../images/skill/seed.svg);}
      &.plant1::before, &.plant2::before{
          @include transform(rotate(180deg));
          right: -44px;top: -50%;
      }
      &.plant1::after, &.plant2::after{right: -22px;top: -93px;}
      &.plant3::before{
          @include transform(rotate(180deg));
          left: -35px;top: 0;
      }
      &.plant3::after{
          @include transform(rotate(-45deg));
          left: -70px;top: 0;
      }
    }
    .soil{
      background-image: url("../images/skill/soil.svg");
    }
  }

  //sprout
  .sprout{
    .grow{
      bottom: 185px;left: 50%;
      &.grow1{background-image: url("../images/skill/grow1.svg");width: 91px;height: 107px;}
      &.grow2{background-image: url("../images/skill/grow2.svg");width: 93px;height: 197px;}
    }
    .soil{background-image: url("../images/skill/soil2.svg");}
  }

  //small_tree
  .small_tree{
    .grow{
      bottom: 120px;left: 50%;z-index: 100;
      &.grow3{background-image: url("../images/skill/smalltree.svg");width: 204px;height: 265px;}
      &.grow4{background-image: url("../images/skill/smalltree2.svg");width: 351px;height: 477px;}
    }
    .water{z-index: 100;}
  }

  //big_tree
  .big_tree{
    z-index: 0;
    .grow{
      @include flex;
      @include justify-content(space-between);
      bottom: 80px;left: 50%;z-index: 100;
      &.grow5{background-image: url("../images/skill/bigtree.svg");width: 781px;height: 857px;}
      .apple, .orange{
        position: relative; width: 50%;
        > div{
          @include flex;
          @include flex-wrap;
          @include justify-content;
          @include align-items;
          @include animation(swing cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite alternate);
          position: absolute;background: no-repeat;padding-top: 27px;font-family: Rubik;font-weight: 600;line-height: 1;text-align: center;
        }
        .apple1, .apple2, .apple3, .orange1, .orange2, .orange3{@include animation-duration(1.3s);}
        .apple4, .apple5, .orange4, .orange5{@include animation-duration(1.5s);}
      }
      .apple{
        > div{width: 125px;height: 173px;background-image: url("../images/skill/apple.svg");color: #fff;}
        .apple1{top: 23%;left: 10%;}
        .apple2{top: 50%;left: 0;}
        .apple3{bottom: 10%;right: 20%;}
        .apple4{top: 40%;right: 15%;}
        .apple5{top: 0;right: 10%;}
      }
      .orange{
        > div{width: 134px;height: 185px;background-image: url("../images/skill/orange.svg");color: #473c3c;}
        .orange1{top: 32%;right: -10%;}
        .orange2{top: 0;left: 0;}
        .orange3{top: 36%;left: 24%;}
        .orange4{bottom: 17%;right: 25%;}
        .orange5{top: 11%;right: 23%;}
      }
    }
    .soil.grass{bottom: 20px;}
    .speech_bubble{
      @include transform(scale(0.7));
      top: 59%;right: -30%;z-index: 200;font-size: 39px;
      &::after{
          bottom: 3px;
      }
    }
  }
  .last .speech_bubble::after {display: none;}
}
 .tree_wrap > div.on{opacity: 1;}

//contact=====
.moveani{z-index: 0;}
.txt_contact{
  @include flex;
  @include justify-content;
  @include align-items;
  position: relative; width: 100%;height: 100%;
  &::before{
    @include translate-50;
    content: "";position: absolute;z-index: 0; top: 59%;left: 51%; width: 294px;height: 602px;background: url("../images/contact/stick.svg") no-repeat 50% / cover;
  }
  .board{
    position: relative;z-index: 100; width: 630px;height: 358px;background: url("../images/contact/board.svg") no-repeat 50% / cover;
  }
  p{
    @include translateX-50;
    position: absolute;z-index: 200;top: 36%; left: 50%;text-align: center;color: #fff;
    .txt_yellow{color: $lYellow;}
  }
  .click{position: absolute;z-index: 300;bottom: 38%;padding-top: 5px;}
}
#dim, #modal{position: fixed;z-index: 1000;}
#modal{
  @include translate-50; 
  z-index: 1000; top: 50%;left: 50%;width: 1411px;height: 677px;
  perspective: 2000px;  // 회전요소의 크기가 너무 크니까 perspective 수치는 크게 주어서 왜곡이 적게 합시다
  .bg{
    @include flex;
    @include align-items;
    @include animation(rotateY 3s 3 forwards); 
    height: 100%; background: url("../images/contact/board_big.svg");
    // backface-visibility: hidden;  // 앞면만 있고 뒷면은 없는데 회전요소의 뒷면을 숨기면 중간에 끊기는 것 같네요.
  } 
  @include keyframes(rotateY) {
    0%{transform: rotateY(0);}
    100%{transform: rotateY(360deg);}
  }
  // @include keyframes(rotateY) {
  //   0%{transform: rotateY(0);}
  //   50%{transform: rotateY(180deg);}
  //   100%{transform: rotateY(0);}
  // }
  .photo_frame{
    width: 280px;height: 287px; margin-left: 153px;border: 10px solid #000;border-radius: 30px;overflow: hidden;
    .photo{background: url("../images/contact/me2.jpg") no-repeat 50% / cover;width: 300px;height: 300px;}
  }
  .address{
    padding-left: 75px;color: #fff;font-size: 50px;
    p{
      position: relative;
      &::before{
        @include translateY-50;
        content: "";position: absolute;width: 30px;height: 30px;top: 50%;left: -50px;background: #7e725c;border-radius: 50%;
      }
    }
    p + p{margin-top: 100px;}
    a{font-family: Rubik;font-weight: 600;transition: all 0.3s;}
    a:hover, a:focus{color: $lYellow;}
  }
  .btn_close{
    position: absolute;top: 8%;right: 4%;width: 80px;height: 80px; background: #7e725c;border-radius: 50%;
    &::before,&::after{content: "";position: absolute;top: 35px;left: 11px; width: 60px;height: 8px;background: #fff;border-radius: 23px;transition: transform 1s;}
    &::before{
      @include transform(rotate(45deg));
    }
    &::after{
      @include transform(rotate(-45deg));
    }
    &:hover::before, &:focus::before{
      @include transform(rotate(225deg));
    }
    &:hover::after, &:focus::after{
      @include transform(rotate(-225deg));
    }
  }
}